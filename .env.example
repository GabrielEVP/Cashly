# ==========================================
# Cashly API Environment Variables
# ==========================================

# Application Configuration
APP_NAME=cashly-api
SERVER_PORT=8080
SERVER_CONTEXT_PATH=/api/v1
SPRING_PROFILES_ACTIVE=development

# ==========================================
# Database Configuration
# ==========================================
DB_HOST=localhost
DB_PORT=3306
DB_NAME=cashly_db
DB_USERNAME=cashly_user
DB_PASSWORD=your_database_password
DB_URL=jdbc:mysql://${DB_HOST}:${DB_PORT}/${DB_NAME}?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC

# ==========================================
# CORS and Allowed Origins
# ==========================================
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,https://yourdomain.com,https://app.yourdomain.com
ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
ALLOWED_HEADERS=*
ALLOW_CREDENTIALS=true

# ==========================================
# GoCardless Configuration
# ==========================================
GOCARDLESS_BASE_URL=https://bankaccountdata.gocardless.com
GOCARDLESS_SECRET_ID=your_gocardless_secret_id
GOCARDLESS_SECRET_KEY=your_gocardless_secret_key
GOCARDLESS_ENVIRONMENT=sandbox
GOCARDLESS_WEBHOOK_ENDPOINT=https://your-domain.com/api/v1/webhooks/gocardless

# ==========================================
# Security Configuration
# ==========================================
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin_password

# JWT Configuration (minimum 256 bits / 32 characters)
JWT_SECRET=your_jwt_secret_key_min_256_bits_replace_this_with_secure_key
JWT_EXPIRATION=86400000

# ==========================================
# API Rate Limiting
# ==========================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100

# ==========================================
# External URLs and Webhooks
# ==========================================
WEBHOOK_URL=https://your-webhook-url.com/cashly
NOTIFICATION_EMAIL_ENABLED=false
NOTIFICATION_WEBHOOK_ENABLED=false

# ==========================================
# GoCardless OAuth2 URLs
# ==========================================
GOCARDLESS_AUTH_URI=https://ob.gocardless.com/psd2/start
GOCARDLESS_TOKEN_URI=https://ob.gocardless.com/psd2/token
GOCARDLESS_USER_INFO_URI=https://bankaccountdata.gocardless.com/api/v2/accounts/
GOCARDLESS_REDIRECT_URI=http://localhost:8080/login/oauth2/code/gocardless

# ==========================================
# Application Features
# ==========================================
AUTO_CATEGORIZE_TRANSACTIONS=true
CATEGORIZATION_CONFIDENCE_THRESHOLD=0.85
ACCOUNTS_REFRESH_INTERVAL=3600000
TRANSACTIONS_REFRESH_INTERVAL=1800000

# ==========================================
# Logging Configuration
# ==========================================
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_CASHLY=INFO
LOG_LEVEL_SECURITY=DEBUG
LOG_LEVEL_SQL=DEBUG
LOG_FILE_PATH=logs/cashly-api.log
LOG_FILE_MAX_SIZE=10MB
LOG_FILE_MAX_HISTORY=30

# ==========================================
# Development/Testing
# ==========================================
# Uncomment for H2 in-memory database testing
# DB_URL=jdbc:h2:mem:testdb
# DB_DRIVER=org.h2.Driver
# H2_CONSOLE_ENABLED=true

# ==========================================
# Actuator/Monitoring
# ==========================================
ACTUATOR_ENDPOINTS=health,info,metrics,prometheus
PROMETHEUS_ENABLED=true
